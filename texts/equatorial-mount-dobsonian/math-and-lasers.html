<!doctype html>
<html lang="en">
<head>
    <title>Math and lasers - Building an equatorial mount for a Dobsonian-mounted telescope - Aapo Kiiso</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="Article series detailing the process of building an equatorial mount for a Dobsonian-mounted telescope." />
    <meta name="keywords" content="aapo kiiso,programming,astronomy" />
    <meta name="robots" content="INDEX,FOLLOW" />
    <meta property="og:site_name" content="Aapo Kiiso" />
    <meta property="og:title" content="Math and lasers - Building an equatorial mount for a Dobsonian-mounted telescope" />
    <meta property="og:image" content="http://aapo.kii.so/assets/images/aapokiiso.jpg" />
    <meta property="og:url" content="http://aapo.kii.so/texts/equatorial-mount-dobsonian/math-and-lasers.html" />
    <meta property="og:type" content="article" />
    <meta property="og:published_time" content="2016-04-26T10:00:00.00Z" />
    <link rel="stylesheet" href="/assets/styles.css">
</head>
<body>
<main id="content">
    <h1>Building an equatorial mount for a Dobsonian-mounted telescope - Math and lasers</h1>
    <p id="published_on">Published on <time datetime="2016-04-26T10:00:00.00Z">26th of April, 2016</time>.</p>
    <a href="/">Back to index</a>
    <section id="foreword">
        <p>In this article series, I'm trying to build a working equatorial mount for a 10" Dobsonian telescope.</p>
        <ol id="previous">
            <li>
                <a href="/texts/equatorial-mount-dobsonian/getting-started.html">Building an equatorial mount for a Dobsonian telescope - Getting started (Part 1)</a>
            </li>
            <li>
                <a href="/texts/equatorial-mount-dobsonian/slow-progress.html">Building an equatorial mount for a Dobsonian telescope - Slow progress (Part 2)</a>
            </li>
            <li>
                <a href="/texts/equatorial-mount-dobsonian/gear-math.html">Building an equatorial mount for a Dobsonian telescope - Gear math (Part 3)</a>
            </li>
        </ol>
    </section>

    <section id="backtracking">
        <p>
            As with any project, there's going to be some backtracking, and this one is definitely not an
            exception to the rule. My original plan of using a set of variable gear ratios to achieve the rotation speed
            of 86016 seconds for the mount (assuming 1 RPS for the motor) was good, but in the end I managed
            to achieve a precise 86164s rotation period (1-to-1 to Earth's rotation period) using some subtle,
            but well-placed delays in the motors rotation.
        </p>
        <p>
            I figured the simplest way to achieve a rotation period of 86164s is to rotate the motor
            once every 8.6164 seconds, and then just have 4 x 1:10 gear pairs to "dilute" the motor's
            rotation period 10000-fold to 86164s. In this scenario the gear ratios wouldn't be a problem,
            but getting the motor to rotate once in exactly 8.6164 seconds would require some tricks with
            Arduino's <pre>delay()</pre> method, as it only takes an integer (milliseconds) as argument.
        </p>
        <p>
            As floating point numbers were out of the question in setting the delay, I had to average
            the rotation period to 8.6164s in 10-rotation intervals, instead of having each rotation
            be exactly that 8.6164s. Here's the way to do it:
        </p>
        <p>
            <pre>((43ms * 200 + 16ms) * 10 + 4ms) / 10rotations => 86164ms/10r = 86.164s/10r = 8.6164s/r</pre>
        </p>
        <p>
            We assume that the stepper motor has 200 steps. By having each step take 43ms, 10 rotations
            will take <pre>43ms * 200 * 10= 86000ms</pre>, so 1 rotation averages to 8600ms. That's
            already very close to our target average of 8616.4ms (8.6164s). All we need now is some
            calibration. By adding 16ms to each rotation (so to every 200th step), we get
            <pre>86000ms + 16ms * 10 = 86160ms</pre> (16ms is of course also multiplied by 10 here as we are
            averaging to 10 rotations. Then we just need to add a 4ms delay after every 10 rotations, and
            we are at 86164ms per 10 rotations!
        </p>
        <p>
            The base delay of each step (43ms) was found via trial and error, and could be virtually anything,
            as long as you adjust your calibrations accordingly. I just found this to be the easiest way for me.
            You should also divide all calibration delays as evenly as possible per the 10 rotations to not get
            any jankyness to your mount's rotation. For a complete solution, you can find my script
            <a href="https://github.com/aapokiiso/equatorial-mount/blob/master/arduino/equatorial-mount.ino">here</a>.
            The relevant rotation delays are in <pre>loop()</pre> method in the end of the file.
        </p>
    </section>

    <p><a href="/texts/equatorial-mount-dobsonian/grinding-gears.html">Building an equatorial mount for a Dobsonian telescope - Grinding gears (Part 5)</a></p
    <p><a href="/">Back to index</a></p>
</main>
</body>
</html>
